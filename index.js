var Oo={value:()=>{}};function mu(){for(var r=0,t=arguments.length,f={},u;r<t;++r){if(!(u=arguments[r]+"")||u in f||/[\s.]/.test(u))throw Error("illegal type: "+u);f[u]=[]}return new ft(f)}function ft(r){this._=r}function Co(r,t){return r.trim().split(/^|\s+/).map(function(f){var u="",o=f.indexOf(".");if(o>=0)u=f.slice(o+1),f=f.slice(0,o);if(f&&!t.hasOwnProperty(f))throw Error("unknown type: "+f);return{type:f,name:u}})}ft.prototype=mu.prototype={constructor:ft,on:function(r,t){var f=this._,u=Co(r+"",f),o,i=-1,n=u.length;if(arguments.length<2){while(++i<n)if((o=(r=u[i]).type)&&(o=Mo(f[o],r.name)))return o;return}if(t!=null&&typeof t!=="function")throw Error("invalid callback: "+t);while(++i<n)if(o=(r=u[i]).type)f[o]=Bu(f[o],r.name,t);else if(t==null)for(o in f)f[o]=Bu(f[o],r.name,null);return this},copy:function(){var r={},t=this._;for(var f in t)r[f]=t[f].slice();return new ft(r)},call:function(r,t){if((o=arguments.length-2)>0)for(var f=Array(o),u=0,o,i;u<o;++u)f[u]=arguments[u+2];if(!this._.hasOwnProperty(r))throw Error("unknown type: "+r);for(i=this._[r],u=0,o=i.length;u<o;++u)i[u].value.apply(t,f)},apply:function(r,t,f){if(!this._.hasOwnProperty(r))throw Error("unknown type: "+r);for(var u=this._[r],o=0,i=u.length;o<i;++o)u[o].value.apply(t,f)}};function Mo(r,t){for(var f=0,u=r.length,o;f<u;++f)if((o=r[f]).name===t)return o.value}function Bu(r,t,f){for(var u=0,o=r.length;u<o;++u)if(r[u].name===t){r[u]=Oo,r=r.slice(0,u).concat(r.slice(u+1));break}if(f!=null)r.push({name:t,value:f});return r}var cr=mu;var ut="http://www.w3.org/1999/xhtml",Xt={svg:"http://www.w3.org/2000/svg",xhtml:ut,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ur(r){var t=r+="",f=t.indexOf(":");if(f>=0&&(t=r.slice(0,f))!=="xmlns")r=r.slice(f+1);return Xt.hasOwnProperty(t)?{space:Xt[t],local:r}:r}function No(r){return function(){var t=this.ownerDocument,f=this.namespaceURI;return f===ut&&t.documentElement.namespaceURI===ut?t.createElement(r):t.createElementNS(f,r)}}function Bo(r){return function(){return this.ownerDocument.createElementNS(r.space,r.local)}}function Tr(r){var t=ur(r);return(t.local?Bo:No)(t)}function mo(){}function ar(r){return r==null?mo:function(){return this.querySelector(r)}}function Yt(r){if(typeof r!=="function")r=ar(r);for(var t=this._groups,f=t.length,u=Array(f),o=0;o<f;++o)for(var i=t[o],n=i.length,c=u[o]=Array(n),p,h,l=0;l<n;++l)if((p=i[l])&&(h=r.call(p,p.__data__,l,i))){if("__data__"in p)h.__data__=p.__data__;c[l]=h}return new R(u,this._parents)}function Ht(r){return r==null?[]:Array.isArray(r)?r:Array.from(r)}function Fo(){return[]}function mr(r){return r==null?Fo:function(){return this.querySelectorAll(r)}}function $o(r){return function(){return Ht(r.apply(this,arguments))}}function xt(r){if(typeof r==="function")r=$o(r);else r=mr(r);for(var t=this._groups,f=t.length,u=[],o=[],i=0;i<f;++i)for(var n=t[i],c=n.length,p,h=0;h<c;++h)if(p=n[h])u.push(r.call(p,p.__data__,h,n)),o.push(p);return new R(u,o)}function Fr(r){return function(){return this.matches(r)}}function ot(r){return function(t){return t.matches(r)}}var Po=Array.prototype.find;function Qo(r){return function(){return Po.call(this.children,r)}}function Jo(){return this.firstElementChild}function Dt(r){return this.select(r==null?Jo:Qo(typeof r==="function"?r:ot(r)))}var Uo=Array.prototype.filter;function Vo(){return Array.from(this.children)}function Zo(r){return function(){return Uo.call(this.children,r)}}function zt(r){return this.selectAll(r==null?Vo:Zo(typeof r==="function"?r:ot(r)))}function Et(r){if(typeof r!=="function")r=Fr(r);for(var t=this._groups,f=t.length,u=Array(f),o=0;o<f;++o)for(var i=t[o],n=i.length,c=u[o]=[],p,h=0;h<n;++h)if((p=i[h])&&r.call(p,p.__data__,h,i))c.push(p);return new R(u,this._parents)}function Kr(r){return Array(r.length)}function qt(){return new R(this._enter||this._groups.map(Kr),this._parents)}function Wr(r,t){this.ownerDocument=r.ownerDocument,this.namespaceURI=r.namespaceURI,this._next=null,this._parent=r,this.__data__=t}Wr.prototype={constructor:Wr,appendChild:function(r){return this._parent.insertBefore(r,this._next)},insertBefore:function(r,t){return this._parent.insertBefore(r,t)},querySelector:function(r){return this._parent.querySelector(r)},querySelectorAll:function(r){return this._parent.querySelectorAll(r)}};function gt(r){return function(){return r}}function To(r,t,f,u,o,i){var n=0,c,p=t.length,h=i.length;for(;n<h;++n)if(c=t[n])c.__data__=i[n],u[n]=c;else f[n]=new Wr(r,i[n]);for(;n<p;++n)if(c=t[n])o[n]=c}function Ko(r,t,f,u,o,i,n){var c,p,h=new Map,l=t.length,_=i.length,s=Array(l),a;for(c=0;c<l;++c)if(p=t[c])if(s[c]=a=n.call(p,p.__data__,c,t)+"",h.has(a))o[c]=p;else h.set(a,p);for(c=0;c<_;++c)if(a=n.call(r,i[c],c,i)+"",p=h.get(a))u[c]=p,p.__data__=i[c],h.delete(a);else f[c]=new Wr(r,i[c]);for(c=0;c<l;++c)if((p=t[c])&&h.get(s[c])===p)o[c]=p}function Wo(r){return r.__data__}function jt(r,t){if(!arguments.length)return Array.from(this,Wo);var f=t?Ko:To,u=this._parents,o=this._groups;if(typeof r!=="function")r=gt(r);for(var i=o.length,n=Array(i),c=Array(i),p=Array(i),h=0;h<i;++h){var l=u[h],_=o[h],s=_.length,a=Ro(r.call(l,l&&l.__data__,h,u)),M=a.length,O=c[h]=Array(M),S=n[h]=Array(M),w=p[h]=Array(s);f(l,_,O,S,w,a,t);for(var N=0,$=0,I,F;N<M;++N)if(I=O[N]){if(N>=$)$=N+1;while(!(F=S[$])&&++$<M);I._next=F||null}}return n=new R(n,u),n._enter=c,n._exit=p,n}function Ro(r){return typeof r==="object"&&"length"in r?r:Array.from(r)}function et(){return new R(this._exit||this._groups.map(Kr),this._parents)}function vt(r,t,f){var u=this.enter(),o=this,i=this.exit();if(typeof r==="function"){if(u=r(u),u)u=u.selection()}else u=u.append(r+"");if(t!=null){if(o=t(o),o)o=o.selection()}if(f==null)i.remove();else f(i);return u&&o?u.merge(o).order():o}function yt(r){var t=r.selection?r.selection():r;for(var f=this._groups,u=t._groups,o=f.length,i=u.length,n=Math.min(o,i),c=Array(o),p=0;p<n;++p)for(var h=f[p],l=u[p],_=h.length,s=c[p]=Array(_),a,M=0;M<_;++M)if(a=h[M]||l[M])s[M]=a;for(;p<o;++p)c[p]=f[p];return new R(c,this._parents)}function bt(){for(var r=this._groups,t=-1,f=r.length;++t<f;)for(var u=r[t],o=u.length-1,i=u[o],n;--o>=0;)if(n=u[o]){if(i&&n.compareDocumentPosition(i)^4)i.parentNode.insertBefore(n,i);i=n}return this}function kt(r){if(!r)r=Lo;function t(_,s){return _&&s?r(_.__data__,s.__data__):!_-!s}for(var f=this._groups,u=f.length,o=Array(u),i=0;i<u;++i){for(var n=f[i],c=n.length,p=o[i]=Array(c),h,l=0;l<c;++l)if(h=n[l])p[l]=h;p.sort(t)}return new R(o,this._parents).order()}function Lo(r,t){return r<t?-1:r>t?1:r>=t?0:NaN}function dt(){var r=arguments[0];return arguments[0]=this,r.apply(null,arguments),this}function rf(){return Array.from(this)}function tf(){for(var r=this._groups,t=0,f=r.length;t<f;++t)for(var u=r[t],o=0,i=u.length;o<i;++o){var n=u[o];if(n)return n}return null}function ff(){let r=0;for(let t of this)++r;return r}function uf(){return!this.node()}function of(r){for(var t=this._groups,f=0,u=t.length;f<u;++f)for(var o=t[f],i=0,n=o.length,c;i<n;++i)if(c=o[i])r.call(c,c.__data__,i,o);return this}function Go(r){return function(){this.removeAttribute(r)}}function Xo(r){return function(){this.removeAttributeNS(r.space,r.local)}}function Yo(r,t){return function(){this.setAttribute(r,t)}}function Ho(r,t){return function(){this.setAttributeNS(r.space,r.local,t)}}function xo(r,t){return function(){var f=t.apply(this,arguments);if(f==null)this.removeAttribute(r);else this.setAttribute(r,f)}}function Do(r,t){return function(){var f=t.apply(this,arguments);if(f==null)this.removeAttributeNS(r.space,r.local);else this.setAttributeNS(r.space,r.local,f)}}function nf(r,t){var f=ur(r);if(arguments.length<2){var u=this.node();return f.local?u.getAttributeNS(f.space,f.local):u.getAttribute(f)}return this.each((t==null?f.local?Xo:Go:typeof t==="function"?f.local?Do:xo:f.local?Ho:Yo)(f,t))}function Rr(r){return r.ownerDocument&&r.ownerDocument.defaultView||r.document&&r||r.defaultView}function zo(r){return function(){this.style.removeProperty(r)}}function Eo(r,t,f){return function(){this.style.setProperty(r,t,f)}}function qo(r,t,f){return function(){var u=t.apply(this,arguments);if(u==null)this.style.removeProperty(r);else this.style.setProperty(r,u,f)}}function cf(r,t,f){return arguments.length>1?this.each((t==null?zo:typeof t==="function"?qo:Eo)(r,t,f==null?"":f)):wr(this.node(),r)}function wr(r,t){return r.style.getPropertyValue(t)||Rr(r).getComputedStyle(r,null).getPropertyValue(t)}function go(r){return function(){delete this[r]}}function jo(r,t){return function(){this[r]=t}}function eo(r,t){return function(){var f=t.apply(this,arguments);if(f==null)delete this[r];else this[r]=f}}function hf(r,t){return arguments.length>1?this.each((t==null?go:typeof t==="function"?eo:jo)(r,t)):this.node()[r]}function Fu(r){return r.trim().split(/^|\s+/)}function pf(r){return r.classList||new $u(r)}function $u(r){this._node=r,this._names=Fu(r.getAttribute("class")||"")}$u.prototype={add:function(r){var t=this._names.indexOf(r);if(t<0)this._names.push(r),this._node.setAttribute("class",this._names.join(" "))},remove:function(r){var t=this._names.indexOf(r);if(t>=0)this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" "))},contains:function(r){return this._names.indexOf(r)>=0}};function Pu(r,t){var f=pf(r),u=-1,o=t.length;while(++u<o)f.add(t[u])}function Qu(r,t){var f=pf(r),u=-1,o=t.length;while(++u<o)f.remove(t[u])}function vo(r){return function(){Pu(this,r)}}function yo(r){return function(){Qu(this,r)}}function bo(r,t){return function(){(t.apply(this,arguments)?Pu:Qu)(this,r)}}function lf(r,t){var f=Fu(r+"");if(arguments.length<2){var u=pf(this.node()),o=-1,i=f.length;while(++o<i)if(!u.contains(f[o]))return!1;return!0}return this.each((typeof t==="function"?bo:t?vo:yo)(f,t))}function ko(){this.textContent=""}function ri(r){return function(){this.textContent=r}}function ti(r){return function(){var t=r.apply(this,arguments);this.textContent=t==null?"":t}}function _f(r){return arguments.length?this.each(r==null?ko:(typeof r==="function"?ti:ri)(r)):this.node().textContent}function fi(){this.innerHTML=""}function ui(r){return function(){this.innerHTML=r}}function oi(r){return function(){var t=r.apply(this,arguments);this.innerHTML=t==null?"":t}}function sf(r){return arguments.length?this.each(r==null?fi:(typeof r==="function"?oi:ui)(r)):this.node().innerHTML}function ii(){if(this.nextSibling)this.parentNode.appendChild(this)}function af(){return this.each(ii)}function ni(){if(this.previousSibling)this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wf(){return this.each(ni)}function Af(r){var t=typeof r==="function"?r:Tr(r);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ci(){return null}function If(r,t){var f=typeof r==="function"?r:Tr(r),u=t==null?ci:typeof t==="function"?t:ar(t);return this.select(function(){return this.insertBefore(f.apply(this,arguments),u.apply(this,arguments)||null)})}function hi(){var r=this.parentNode;if(r)r.removeChild(this)}function Sf(){return this.each(hi)}function pi(){var r=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(r,this.nextSibling):r}function li(){var r=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(r,this.nextSibling):r}function Of(r){return this.select(r?li:pi)}function Cf(r){return arguments.length?this.property("__data__",r):this.node().__data__}function _i(r){return function(t){r.call(this,t,this.__data__)}}function si(r){return r.trim().split(/^|\s+/).map(function(t){var f="",u=t.indexOf(".");if(u>=0)f=t.slice(u+1),t=t.slice(0,u);return{type:t,name:f}})}function ai(r){return function(){var t=this.__on;if(!t)return;for(var f=0,u=-1,o=t.length,i;f<o;++f)if(i=t[f],(!r.type||i.type===r.type)&&i.name===r.name)this.removeEventListener(i.type,i.listener,i.options);else t[++u]=i;if(++u)t.length=u;else delete this.__on}}function wi(r,t,f){return function(){var u=this.__on,o,i=_i(t);if(u){for(var n=0,c=u.length;n<c;++n)if((o=u[n]).type===r.type&&o.name===r.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=f),o.value=t;return}}if(this.addEventListener(r.type,i,f),o={type:r.type,name:r.name,value:t,listener:i,options:f},!u)this.__on=[o];else u.push(o)}}function Mf(r,t,f){var u=si(r+""),o,i=u.length,n;if(arguments.length<2){var c=this.node().__on;if(c){for(var p=0,h=c.length,l;p<h;++p)for(o=0,l=c[p];o<i;++o)if((n=u[o]).type===l.type&&n.name===l.name)return l.value}return}c=t?wi:ai;for(o=0;o<i;++o)this.each(c(u[o],t,f));return this}function Ju(r,t,f){var u=Rr(r),o=u.CustomEvent;if(typeof o==="function")o=new o(t,f);else if(o=u.document.createEvent("Event"),f)o.initEvent(t,f.bubbles,f.cancelable),o.detail=f.detail;else o.initEvent(t,!1,!1);r.dispatchEvent(o)}function Ai(r,t){return function(){return Ju(this,r,t)}}function Ii(r,t){return function(){return Ju(this,r,t.apply(this,arguments))}}function Nf(r,t){return this.each((typeof t==="function"?Ii:Ai)(r,t))}function*Bf(){for(var r=this._groups,t=0,f=r.length;t<f;++t)for(var u=r[t],o=0,i=u.length,n;o<i;++o)if(n=u[o])yield n}var mf=[null];function R(r,t){this._groups=r,this._parents=t}function Uu(){return new R([[document.documentElement]],mf)}function Si(){return this}R.prototype=Uu.prototype={constructor:R,select:Yt,selectAll:xt,selectChild:Dt,selectChildren:zt,filter:Et,data:jt,enter:qt,exit:et,join:vt,merge:yt,selection:Si,order:bt,sort:kt,call:dt,nodes:rf,node:tf,size:ff,empty:uf,each:of,attr:nf,style:cf,property:hf,classed:lf,text:_f,html:sf,raise:af,lower:wf,append:Af,insert:If,remove:Sf,clone:Of,datum:Cf,on:Mf,dispatch:Nf,[Symbol.iterator]:Bf};var hr=Uu;function x(r){return typeof r==="string"?new R([[document.querySelector(r)]],[document.documentElement]):new R([[r]],mf)}function Ff(r){let t;while(t=r.sourceEvent)r=t;return r}function v(r,t){if(r=Ff(r),t===void 0)t=r.currentTarget;if(t){var f=t.ownerSVGElement||t;if(f.createSVGPoint){var u=f.createSVGPoint();return u.x=r.clientX,u.y=r.clientY,u=u.matrixTransform(t.getScreenCTM().inverse()),[u.x,u.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[r.clientX-o.left-t.clientLeft,r.clientY-o.top-t.clientTop]}}return[r.pageX,r.pageY]}var Vu={passive:!1},Ir={capture:!0,passive:!1};function it(r){r.stopImmediatePropagation()}function pr(r){r.preventDefault(),r.stopImmediatePropagation()}function $r(r){var t=r.document.documentElement,f=x(r).on("dragstart.drag",pr,Ir);if("onselectstart"in t)f.on("selectstart.drag",pr,Ir);else t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none"}function Lr(r,t){var f=r.document.documentElement,u=x(r).on("dragstart.drag",null);if(t)u.on("click.drag",pr,Ir),setTimeout(function(){u.on("click.drag",null)},0);if("onselectstart"in f)u.on("selectstart.drag",null);else f.style.MozUserSelect=f.__noselect,delete f.__noselect}var Gr=(r)=>()=>r;function Xr(r,{sourceEvent:t,subject:f,target:u,identifier:o,active:i,x:n,y:c,dx:p,dy:h,dispatch:l}){Object.defineProperties(this,{type:{value:r,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:f,enumerable:!0,configurable:!0},target:{value:u,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:n,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:p,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:l}})}Xr.prototype.on=function(){var r=this._.on.apply(this._,arguments);return r===this._?this:r};function Oi(r){return!r.ctrlKey&&!r.button}function Ci(){return this.parentNode}function Mi(r,t){return t==null?{x:r.x,y:r.y}:t}function Ni(){return navigator.maxTouchPoints||"ontouchstart"in this}function nt(){var r=Oi,t=Ci,f=Mi,u=Ni,o={},i=cr("start","drag","end"),n=0,c,p,h,l,_=0;function s(I){I.on("mousedown.drag",a).filter(u).on("touchstart.drag",S).on("touchmove.drag",w,Vu).on("touchend.drag touchcancel.drag",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function a(I,F){if(l||!r.call(this,I,F))return;var P=$(this,t.call(this,I,F),I,F,"mouse");if(!P)return;x(I.view).on("mousemove.drag",M,Ir).on("mouseup.drag",O,Ir),$r(I.view),it(I),h=!1,c=I.clientX,p=I.clientY,P("start",I)}function M(I){if(pr(I),!h){var F=I.clientX-c,P=I.clientY-p;h=F*F+P*P>_}o.mouse("drag",I)}function O(I){x(I.view).on("mousemove.drag mouseup.drag",null),Lr(I.view,h),pr(I),o.mouse("end",I)}function S(I,F){if(!r.call(this,I,F))return;var P=I.changedTouches,J=t.call(this,I,F),Z=P.length,W,T;for(W=0;W<Z;++W)if(T=$(this,J,I,F,P[W].identifier,P[W]))it(I),T("start",I,P[W])}function w(I){var F=I.changedTouches,P=F.length,J,Z;for(J=0;J<P;++J)if(Z=o[F[J].identifier])pr(I),Z("drag",I,F[J])}function N(I){var F=I.changedTouches,P=F.length,J,Z;if(l)clearTimeout(l);l=setTimeout(function(){l=null},500);for(J=0;J<P;++J)if(Z=o[F[J].identifier])it(I),Z("end",I,F[J])}function $(I,F,P,J,Z,W){var T=i.copy(),L=v(W||P,F),e,g,A;if((A=f.call(I,new Xr("beforestart",{sourceEvent:P,target:s,identifier:Z,active:n,x:L[0],y:L[1],dx:0,dy:0,dispatch:T}),J))==null)return;return e=A.x-L[0]||0,g=A.y-L[1]||0,function B(C,m,Q){var U=L,V;switch(C){case"start":o[Z]=B,V=n++;break;case"end":delete o[Z],--n;case"drag":L=v(Q||m,F),V=n;break}T.call(C,I,new Xr(C,{sourceEvent:m,subject:A,target:s,identifier:Z,active:V,x:L[0]+e,y:L[1]+g,dx:L[0]-U[0],dy:L[1]-U[1],dispatch:T}),J)}}return s.filter=function(I){return arguments.length?(r=typeof I==="function"?I:Gr(!!I),s):r},s.container=function(I){return arguments.length?(t=typeof I==="function"?I:Gr(I),s):t},s.subject=function(I){return arguments.length?(f=typeof I==="function"?I:Gr(I),s):f},s.touchable=function(I){return arguments.length?(u=typeof I==="function"?I:Gr(!!I),s):u},s.on=function(){var I=i.on.apply(i,arguments);return I===i?s:I},s.clickDistance=function(I){return arguments.length?(_=(I=+I)*I,s):Math.sqrt(_)},s}function Yr(r,t,f){r.prototype=t.prototype=f,f.constructor=r}function $f(r,t){var f=Object.create(r.prototype);for(var u in t)f[u]=t[u];return f}function Dr(){}var Hr=0.7,pt=1/Hr,Pr="\\s*([+-]?\\d+)\\s*",xr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",or="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bi=/^#([0-9a-f]{3,8})$/,mi=new RegExp(`^rgb\\(${Pr},${Pr},${Pr}\\)$`),Fi=new RegExp(`^rgb\\(${or},${or},${or}\\)$`),$i=new RegExp(`^rgba\\(${Pr},${Pr},${Pr},${xr}\\)$`),Pi=new RegExp(`^rgba\\(${or},${or},${or},${xr}\\)$`),Qi=new RegExp(`^hsl\\(${xr},${or},${or}\\)$`),Ji=new RegExp(`^hsla\\(${xr},${or},${or},${xr}\\)$`),Zu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yr(Dr,Ar,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:Tu,formatHex:Tu,formatHex8:Ui,formatHsl:Vi,formatRgb:Ku,toString:Ku});function Tu(){return this.rgb().formatHex()}function Ui(){return this.rgb().formatHex8()}function Vi(){return Yu(this).formatHsl()}function Ku(){return this.rgb().formatRgb()}function Ar(r){var t,f;return r=(r+"").trim().toLowerCase(),(t=Bi.exec(r))?(f=t[1].length,t=parseInt(t[1],16),f===6?Wu(t):f===3?new j(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):f===8?ct(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):f===4?ct(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mi.exec(r))?new j(t[1],t[2],t[3],1):(t=Fi.exec(r))?new j(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$i.exec(r))?ct(t[1],t[2],t[3],t[4]):(t=Pi.exec(r))?ct(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Qi.exec(r))?Gu(t[1],t[2]/100,t[3]/100,1):(t=Ji.exec(r))?Gu(t[1],t[2]/100,t[3]/100,t[4]):Zu.hasOwnProperty(r)?Wu(Zu[r]):r==="transparent"?new j(NaN,NaN,NaN,0):null}function Wu(r){return new j(r>>16&255,r>>8&255,r&255,1)}function ct(r,t,f,u){if(u<=0)r=t=f=NaN;return new j(r,t,f,u)}function Zi(r){if(!(r instanceof Dr))r=Ar(r);if(!r)return new j;return r=r.rgb(),new j(r.r,r.g,r.b,r.opacity)}function Qr(r,t,f,u){return arguments.length===1?Zi(r):new j(r,t,f,u==null?1:u)}function j(r,t,f,u){this.r=+r,this.g=+t,this.b=+f,this.opacity=+u}Yr(j,Qr,$f(Dr,{brighter(r){return r=r==null?pt:Math.pow(pt,r),new j(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?Hr:Math.pow(Hr,r),new j(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new j(Or(this.r),Or(this.g),Or(this.b),lt(this.opacity))},displayable(){return-0.5<=this.r&&this.r<255.5&&(-0.5<=this.g&&this.g<255.5)&&(-0.5<=this.b&&this.b<255.5)&&(0<=this.opacity&&this.opacity<=1)},hex:Ru,formatHex:Ru,formatHex8:Ti,formatRgb:Lu,toString:Lu}));function Ru(){return`#${Sr(this.r)}${Sr(this.g)}${Sr(this.b)}`}function Ti(){return`#${Sr(this.r)}${Sr(this.g)}${Sr(this.b)}${Sr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Lu(){let r=lt(this.opacity);return`${r===1?"rgb(":"rgba("}${Or(this.r)}, ${Or(this.g)}, ${Or(this.b)}${r===1?")":`, ${r})`}`}function lt(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function Or(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function Sr(r){return r=Or(r),(r<16?"0":"")+r.toString(16)}function Gu(r,t,f,u){if(u<=0)r=t=f=NaN;else if(f<=0||f>=1)r=t=NaN;else if(t<=0)r=NaN;return new rr(r,t,f,u)}function Yu(r){if(r instanceof rr)return new rr(r.h,r.s,r.l,r.opacity);if(!(r instanceof Dr))r=Ar(r);if(!r)return new rr;if(r instanceof rr)return r;r=r.rgb();var t=r.r/255,f=r.g/255,u=r.b/255,o=Math.min(t,f,u),i=Math.max(t,f,u),n=NaN,c=i-o,p=(i+o)/2;if(c){if(t===i)n=(f-u)/c+(f<u)*6;else if(f===i)n=(u-t)/c+2;else n=(t-f)/c+4;c/=p<0.5?i+o:2-i-o,n*=60}else c=p>0&&p<1?0:n;return new rr(n,c,p,r.opacity)}function Hu(r,t,f,u){return arguments.length===1?Yu(r):new rr(r,t,f,u==null?1:u)}function rr(r,t,f,u){this.h=+r,this.s=+t,this.l=+f,this.opacity=+u}Yr(rr,Hu,$f(Dr,{brighter(r){return r=r==null?pt:Math.pow(pt,r),new rr(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?Hr:Math.pow(Hr,r),new rr(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,t=isNaN(r)||isNaN(this.s)?0:this.s,f=this.l,u=f+(f<0.5?f:1-f)*t,o=2*f-u;return new j(Pf(r>=240?r-240:r+120,o,u),Pf(r,o,u),Pf(r<120?r+240:r-120,o,u),this.opacity)},clamp(){return new rr(Xu(this.h),ht(this.s),ht(this.l),lt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&(0<=this.l&&this.l<=1)&&(0<=this.opacity&&this.opacity<=1)},formatHsl(){let r=lt(this.opacity);return`${r===1?"hsl(":"hsla("}${Xu(this.h)}, ${ht(this.s)*100}%, ${ht(this.l)*100}%${r===1?")":`, ${r})`}`}}));function Xu(r){return r=(r||0)%360,r<0?r+360:r}function ht(r){return Math.max(0,Math.min(1,r||0))}function Pf(r,t,f){return(r<60?t+(f-t)*r/60:r<180?f:r<240?t+(f-t)*(240-r)/60:t)*255}function Qf(r,t,f,u,o){var i=r*r,n=i*r;return((1-3*r+3*i-n)*t+(4-6*i+3*n)*f+(1+3*r+3*i-3*n)*u+n*o)/6}function Jf(r){var t=r.length-1;return function(f){var u=f<=0?f=0:f>=1?(f=1,t-1):Math.floor(f*t),o=r[u],i=r[u+1],n=u>0?r[u-1]:2*o-i,c=u<t-1?r[u+2]:2*i-o;return Qf((f-u/t)*t,n,o,i,c)}}function Uf(r){var t=r.length;return function(f){var u=Math.floor(((f%=1)<0?++f:f)*t),o=r[(u+t-1)%t],i=r[u%t],n=r[(u+1)%t],c=r[(u+2)%t];return Qf((f-u/t)*t,o,i,n,c)}}var Vf=(r)=>()=>r;function Ki(r,t){return function(f){return r+f*t}}function Wi(r,t,f){return r=Math.pow(r,f),t=Math.pow(t,f)-r,f=1/f,function(u){return Math.pow(r+u*t,f)}}function xu(r){return(r=+r)===1?_t:function(t,f){return f-t?Wi(t,f,r):Vf(isNaN(t)?f:t)}}function _t(r,t){var f=t-r;return f?Ki(r,f):Vf(isNaN(r)?t:r)}var st=function r(t){var f=xu(t);function u(o,i){var n=f((o=Qr(o)).r,(i=Qr(i)).r),c=f(o.g,i.g),p=f(o.b,i.b),h=_t(o.opacity,i.opacity);return function(l){return o.r=n(l),o.g=c(l),o.b=p(l),o.opacity=h(l),o+""}}return u.gamma=r,u}(1);function Du(r){return function(t){var f=t.length,u=Array(f),o=Array(f),i=Array(f),n,c;for(n=0;n<f;++n)c=Qr(t[n]),u[n]=c.r||0,o[n]=c.g||0,i[n]=c.b||0;return u=r(u),o=r(o),i=r(i),c.opacity=1,function(p){return c.r=u(p),c.g=o(p),c.b=i(p),c+""}}}var Ri=Du(Jf),Li=Du(Uf);function y(r,t){return r=+r,t=+t,function(f){return r*(1-f)+t*f}}var Tf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zf=new RegExp(Tf.source,"g");function Gi(r){return function(){return r}}function Xi(r){return function(t){return r(t)+""}}function at(r,t){var f=Tf.lastIndex=Zf.lastIndex=0,u,o,i,n=-1,c=[],p=[];r=r+"",t=t+"";while((u=Tf.exec(r))&&(o=Zf.exec(t))){if((i=o.index)>f)if(i=t.slice(f,i),c[n])c[n]+=i;else c[++n]=i;if((u=u[0])===(o=o[0]))if(c[n])c[n]+=o;else c[++n]=o;else c[++n]=null,p.push({i:n,x:y(u,o)});f=Zf.lastIndex}if(f<t.length)if(i=t.slice(f),c[n])c[n]+=i;else c[++n]=i;return c.length<2?p[0]?Xi(p[0].x):Gi(t):(t=p.length,function(h){for(var l=0,_;l<t;++l)c[(_=p[l]).i]=_.x(h);return c.join("")})}var zu=180/Math.PI,wt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function At(r,t,f,u,o,i){var n,c,p;if(n=Math.sqrt(r*r+t*t))r/=n,t/=n;if(p=r*f+t*u)f-=r*p,u-=t*p;if(c=Math.sqrt(f*f+u*u))f/=c,u/=c,p/=c;if(r*u<t*f)r=-r,t=-t,p=-p,n=-n;return{translateX:o,translateY:i,rotate:Math.atan2(t,r)*zu,skewX:Math.atan(p)*zu,scaleX:n,scaleY:c}}var It;function Eu(r){let t=new(typeof DOMMatrix==="function"?DOMMatrix:WebKitCSSMatrix)(r+"");return t.isIdentity?wt:At(t.a,t.b,t.c,t.d,t.e,t.f)}function qu(r){if(r==null)return wt;if(!It)It=document.createElementNS("http://www.w3.org/2000/svg","g");if(It.setAttribute("transform",r),!(r=It.transform.baseVal.consolidate()))return wt;return r=r.matrix,At(r.a,r.b,r.c,r.d,r.e,r.f)}function gu(r,t,f,u){function o(h){return h.length?h.pop()+" ":""}function i(h,l,_,s,a,M){if(h!==_||l!==s){var O=a.push("translate(",null,t,null,f);M.push({i:O-4,x:y(h,_)},{i:O-2,x:y(l,s)})}else if(_||s)a.push("translate("+_+t+s+f)}function n(h,l,_,s){if(h!==l){if(h-l>180)l+=360;else if(l-h>180)h+=360;s.push({i:_.push(o(_)+"rotate(",null,u)-2,x:y(h,l)})}else if(l)_.push(o(_)+"rotate("+l+u)}function c(h,l,_,s){if(h!==l)s.push({i:_.push(o(_)+"skewX(",null,u)-2,x:y(h,l)});else if(l)_.push(o(_)+"skewX("+l+u)}function p(h,l,_,s,a,M){if(h!==_||l!==s){var O=a.push(o(a)+"scale(",null,",",null,")");M.push({i:O-4,x:y(h,_)},{i:O-2,x:y(l,s)})}else if(_!==1||s!==1)a.push(o(a)+"scale("+_+","+s+")")}return function(h,l){var _=[],s=[];return h=r(h),l=r(l),i(h.translateX,h.translateY,l.translateX,l.translateY,_,s),n(h.rotate,l.rotate,_,s),c(h.skewX,l.skewX,_,s),p(h.scaleX,h.scaleY,l.scaleX,l.scaleY,_,s),h=l=null,function(a){var M=-1,O=s.length,S;while(++M<O)_[(S=s[M]).i]=S.x(a);return _.join("")}}}var Kf=gu(Eu,"px, ","px)","deg)"),Wf=gu(qu,", ",")",")");var Yi=0.000000000001;function ju(r){return((r=Math.exp(r))+1/r)/2}function Hi(r){return((r=Math.exp(r))-1/r)/2}function xi(r){return((r=Math.exp(2*r))-1)/(r+1)}var Rf=function r(t,f,u){function o(i,n){var c=i[0],p=i[1],h=i[2],l=n[0],_=n[1],s=n[2],a=l-c,M=_-p,O=a*a+M*M,S,w;if(O<Yi)w=Math.log(s/h)/t,S=function(J){return[c+J*a,p+J*M,h*Math.exp(t*J*w)]};else{var N=Math.sqrt(O),$=(s*s-h*h+u*O)/(2*h*f*N),I=(s*s-h*h-u*O)/(2*s*f*N),F=Math.log(Math.sqrt($*$+1)-$),P=Math.log(Math.sqrt(I*I+1)-I);w=(P-F)/t,S=function(J){var Z=J*w,W=ju(F),T=h/(f*N)*(W*xi(t*Z+F)-Hi(F));return[c+T*a,p+T*M,h*W/ju(t*Z+F)]}}return S.duration=w*1000*t/Math.SQRT2,S}return o.rho=function(i){var n=Math.max(0.001,+i),c=n*n,p=c*c;return r(n,c,p)},o}(Math.SQRT2,2,4);var Jr=0,Er=0,zr=0,vu=1000,St,qr,Ot=0,Cr=0,Ct=0,gr=typeof performance==="object"&&performance.now?performance:Date,yu=typeof window==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(r){setTimeout(r,17)};function er(){return Cr||(yu(Di),Cr=gr.now()+Ct)}function Di(){Cr=0}function jr(){this._call=this._time=this._next=null}jr.prototype=Ur.prototype={constructor:jr,restart:function(r,t,f){if(typeof r!=="function")throw TypeError("callback is not a function");if(f=(f==null?er():+f)+(t==null?0:+t),!this._next&&qr!==this){if(qr)qr._next=this;else St=this;qr=this}this._call=r,this._time=f,Lf()},stop:function(){if(this._call)this._call=null,this._time=1/0,Lf()}};function Ur(r,t,f){var u=new jr;return u.restart(r,t,f),u}function bu(){er(),++Jr;var r=St,t;while(r){if((t=Cr-r._time)>=0)r._call.call(void 0,t);r=r._next}--Jr}function eu(){Cr=(Ot=gr.now())+Ct,Jr=Er=0;try{bu()}finally{Jr=0,Ei(),Cr=0}}function zi(){var r=gr.now(),t=r-Ot;if(t>vu)Ct-=t,Ot=r}function Ei(){var r,t=St,f,u=1/0;while(t)if(t._call){if(u>t._time)u=t._time;r=t,t=t._next}else f=t._next,t._next=null,t=r?r._next=f:St=f;qr=r,Lf(u)}function Lf(r){if(Jr)return;if(Er)Er=clearTimeout(Er);var t=r-Cr;if(t>24){if(r<1/0)Er=setTimeout(eu,r-gr.now()-Ct);if(zr)zr=clearInterval(zr)}else{if(!zr)Ot=gr.now(),zr=setInterval(zi,vu);Jr=1,yu(eu)}}function vr(r,t,f){var u=new jr;return t=t==null?0:+t,u.restart((o)=>{u.stop(),r(o+t)},t,f),u}var qi=cr("start","end","cancel","interrupt"),gi=[],ro=0,ku=1,Nt=2,Mt=3,du=4,Bt=5,yr=6;function lr(r,t,f,u,o,i){var n=r.__transition;if(!n)r.__transition={};else if(f in n)return;ji(r,f,{name:t,index:u,group:o,on:qi,tween:gi,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:ro})}function br(r,t){var f=Y(r,t);if(f.state>ro)throw Error("too late; already scheduled");return f}function z(r,t){var f=Y(r,t);if(f.state>Mt)throw Error("too late; already running");return f}function Y(r,t){var f=r.__transition;if(!f||!(f=f[t]))throw Error("transition not found");return f}function ji(r,t,f){var u=r.__transition,o;u[t]=f,f.timer=Ur(i,0,f.time);function i(h){if(f.state=ku,f.timer.restart(n,f.delay,f.time),f.delay<=h)n(h-f.delay)}function n(h){var l,_,s,a;if(f.state!==ku)return p();for(l in u){if(a=u[l],a.name!==f.name)continue;if(a.state===Mt)return vr(n);if(a.state===du)a.state=yr,a.timer.stop(),a.on.call("interrupt",r,r.__data__,a.index,a.group),delete u[l];else if(+l<t)a.state=yr,a.timer.stop(),a.on.call("cancel",r,r.__data__,a.index,a.group),delete u[l]}if(vr(function(){if(f.state===Mt)f.state=du,f.timer.restart(c,f.delay,f.time),c(h)}),f.state=Nt,f.on.call("start",r,r.__data__,f.index,f.group),f.state!==Nt)return;f.state=Mt,o=Array(s=f.tween.length);for(l=0,_=-1;l<s;++l)if(a=f.tween[l].value.call(r,r.__data__,f.index,f.group))o[++_]=a;o.length=_+1}function c(h){var l=h<f.duration?f.ease.call(null,h/f.duration):(f.timer.restart(p),f.state=Bt,1),_=-1,s=o.length;while(++_<s)o[_].call(r,l);if(f.state===Bt)f.on.call("end",r,r.__data__,f.index,f.group),p()}function p(){f.state=yr,f.timer.stop(),delete u[t];for(var h in u)return;delete r.__transition}}function _r(r,t){var f=r.__transition,u,o,i=!0,n;if(!f)return;t=t==null?null:t+"";for(n in f){if((u=f[n]).name!==t){i=!1;continue}o=u.state>Nt&&u.state<Bt,u.state=yr,u.timer.stop(),u.on.call(o?"interrupt":"cancel",r,r.__data__,u.index,u.group),delete f[n]}if(i)delete r.__transition}function Gf(r){return this.each(function(){_r(this,r)})}function ei(r,t){var f,u;return function(){var o=z(this,r),i=o.tween;if(i!==f){u=f=i;for(var n=0,c=u.length;n<c;++n)if(u[n].name===t){u=u.slice(),u.splice(n,1);break}}o.tween=u}}function vi(r,t,f){var u,o;if(typeof f!=="function")throw Error();return function(){var i=z(this,r),n=i.tween;if(n!==u){o=(u=n).slice();for(var c={name:t,value:f},p=0,h=o.length;p<h;++p)if(o[p].name===t){o[p]=c;break}if(p===h)o.push(c)}i.tween=o}}function Xf(r,t){var f=this._id;if(r+="",arguments.length<2){var u=Y(this.node(),f).tween;for(var o=0,i=u.length,n;o<i;++o)if((n=u[o]).name===r)return n.value;return null}return this.each((t==null?ei:vi)(f,r,t))}function Vr(r,t,f){var u=r._id;return r.each(function(){var o=z(this,u);(o.value||(o.value={}))[t]=f.apply(this,arguments)}),function(o){return Y(o,u).value[t]}}function kr(r,t){var f;return(typeof t==="number"?y:t instanceof Ar?st:(f=Ar(t))?(t=f,st):at)(r,t)}function yi(r){return function(){this.removeAttribute(r)}}function bi(r){return function(){this.removeAttributeNS(r.space,r.local)}}function ki(r,t,f){var u,o=f+"",i;return function(){var n=this.getAttribute(r);return n===o?null:n===u?i:i=t(u=n,f)}}function di(r,t,f){var u,o=f+"",i;return function(){var n=this.getAttributeNS(r.space,r.local);return n===o?null:n===u?i:i=t(u=n,f)}}function rn(r,t,f){var u,o,i;return function(){var n,c=f(this),p;if(c==null)return void this.removeAttribute(r);return n=this.getAttribute(r),p=c+"",n===p?null:n===u&&p===o?i:(o=p,i=t(u=n,c))}}function tn(r,t,f){var u,o,i;return function(){var n,c=f(this),p;if(c==null)return void this.removeAttributeNS(r.space,r.local);return n=this.getAttributeNS(r.space,r.local),p=c+"",n===p?null:n===u&&p===o?i:(o=p,i=t(u=n,c))}}function Yf(r,t){var f=ur(r),u=f==="transform"?Wf:kr;return this.attrTween(r,typeof t==="function"?(f.local?tn:rn)(f,u,Vr(this,"attr."+r,t)):t==null?(f.local?bi:yi)(f):(f.local?di:ki)(f,u,t))}function fn(r,t){return function(f){this.setAttribute(r,t.call(this,f))}}function un(r,t){return function(f){this.setAttributeNS(r.space,r.local,t.call(this,f))}}function on(r,t){var f,u;function o(){var i=t.apply(this,arguments);if(i!==u)f=(u=i)&&un(r,i);return f}return o._value=t,o}function nn(r,t){var f,u;function o(){var i=t.apply(this,arguments);if(i!==u)f=(u=i)&&fn(r,i);return f}return o._value=t,o}function Hf(r,t){var f="attr."+r;if(arguments.length<2)return(f=this.tween(f))&&f._value;if(t==null)return this.tween(f,null);if(typeof t!=="function")throw Error();var u=ur(r);return this.tween(f,(u.local?on:nn)(u,t))}function cn(r,t){return function(){br(this,r).delay=+t.apply(this,arguments)}}function hn(r,t){return t=+t,function(){br(this,r).delay=t}}function xf(r){var t=this._id;return arguments.length?this.each((typeof r==="function"?cn:hn)(t,r)):Y(this.node(),t).delay}function pn(r,t){return function(){z(this,r).duration=+t.apply(this,arguments)}}function ln(r,t){return t=+t,function(){z(this,r).duration=t}}function Df(r){var t=this._id;return arguments.length?this.each((typeof r==="function"?pn:ln)(t,r)):Y(this.node(),t).duration}function _n(r,t){if(typeof t!=="function")throw Error();return function(){z(this,r).ease=t}}function zf(r){var t=this._id;return arguments.length?this.each(_n(t,r)):Y(this.node(),t).ease}function sn(r,t){return function(){var f=t.apply(this,arguments);if(typeof f!=="function")throw Error();z(this,r).ease=f}}function Ef(r){if(typeof r!=="function")throw Error();return this.each(sn(this._id,r))}function qf(r){if(typeof r!=="function")r=Fr(r);for(var t=this._groups,f=t.length,u=Array(f),o=0;o<f;++o)for(var i=t[o],n=i.length,c=u[o]=[],p,h=0;h<n;++h)if((p=i[h])&&r.call(p,p.__data__,h,i))c.push(p);return new E(u,this._parents,this._name,this._id)}function gf(r){if(r._id!==this._id)throw Error();for(var t=this._groups,f=r._groups,u=t.length,o=f.length,i=Math.min(u,o),n=Array(u),c=0;c<i;++c)for(var p=t[c],h=f[c],l=p.length,_=n[c]=Array(l),s,a=0;a<l;++a)if(s=p[a]||h[a])_[a]=s;for(;c<u;++c)n[c]=t[c];return new E(n,this._parents,this._name,this._id)}function an(r){return(r+"").trim().split(/^|\s+/).every(function(t){var f=t.indexOf(".");if(f>=0)t=t.slice(0,f);return!t||t==="start"})}function wn(r,t,f){var u,o,i=an(t)?br:z;return function(){var n=i(this,r),c=n.on;if(c!==u)(o=(u=c).copy()).on(t,f);n.on=o}}function jf(r,t){var f=this._id;return arguments.length<2?Y(this.node(),f).on.on(r):this.each(wn(f,r,t))}function An(r){return function(){var t=this.parentNode;for(var f in this.__transition)if(+f!==r)return;if(t)t.removeChild(this)}}function ef(){return this.on("end.remove",An(this._id))}function vf(r){var t=this._name,f=this._id;if(typeof r!=="function")r=ar(r);for(var u=this._groups,o=u.length,i=Array(o),n=0;n<o;++n)for(var c=u[n],p=c.length,h=i[n]=Array(p),l,_,s=0;s<p;++s)if((l=c[s])&&(_=r.call(l,l.__data__,s,c))){if("__data__"in l)_.__data__=l.__data__;h[s]=_,lr(h[s],t,f,s,h,Y(l,f))}return new E(i,this._parents,t,f)}function yf(r){var t=this._name,f=this._id;if(typeof r!=="function")r=mr(r);for(var u=this._groups,o=u.length,i=[],n=[],c=0;c<o;++c)for(var p=u[c],h=p.length,l,_=0;_<h;++_)if(l=p[_]){for(var s=r.call(l,l.__data__,_,p),a,M=Y(l,f),O=0,S=s.length;O<S;++O)if(a=s[O])lr(a,t,f,O,s,M);i.push(s),n.push(l)}return new E(i,n,t,f)}var In=hr.prototype.constructor;function bf(){return new In(this._groups,this._parents)}function Sn(r,t){var f,u,o;return function(){var i=wr(this,r),n=(this.style.removeProperty(r),wr(this,r));return i===n?null:i===f&&n===u?o:o=t(f=i,u=n)}}function to(r){return function(){this.style.removeProperty(r)}}function On(r,t,f){var u,o=f+"",i;return function(){var n=wr(this,r);return n===o?null:n===u?i:i=t(u=n,f)}}function Cn(r,t,f){var u,o,i;return function(){var n=wr(this,r),c=f(this),p=c+"";if(c==null)p=c=(this.style.removeProperty(r),wr(this,r));return n===p?null:n===u&&p===o?i:(o=p,i=t(u=n,c))}}function Mn(r,t){var f,u,o,i="style."+t,n="end."+i,c;return function(){var p=z(this,r),h=p.on,l=p.value[i]==null?c||(c=to(t)):void 0;if(h!==f||o!==l)(u=(f=h).copy()).on(n,o=l);p.on=u}}function kf(r,t,f){var u=(r+="")==="transform"?Kf:kr;return t==null?this.styleTween(r,Sn(r,u)).on("end.style."+r,to(r)):typeof t==="function"?this.styleTween(r,Cn(r,u,Vr(this,"style."+r,t))).each(Mn(this._id,r)):this.styleTween(r,On(r,u,t),f).on("end.style."+r,null)}function Nn(r,t,f){return function(u){this.style.setProperty(r,t.call(this,u),f)}}function Bn(r,t,f){var u,o;function i(){var n=t.apply(this,arguments);if(n!==o)u=(o=n)&&Nn(r,n,f);return u}return i._value=t,i}function df(r,t,f){var u="style."+(r+="");if(arguments.length<2)return(u=this.tween(u))&&u._value;if(t==null)return this.tween(u,null);if(typeof t!=="function")throw Error();return this.tween(u,Bn(r,t,f==null?"":f))}function mn(r){return function(){this.textContent=r}}function Fn(r){return function(){var t=r(this);this.textContent=t==null?"":t}}function ru(r){return this.tween("text",typeof r==="function"?Fn(Vr(this,"text",r)):mn(r==null?"":r+""))}function $n(r){return function(t){this.textContent=r.call(this,t)}}function Pn(r){var t,f;function u(){var o=r.apply(this,arguments);if(o!==f)t=(f=o)&&$n(o);return t}return u._value=r,u}function tu(r){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(r==null)return this.tween(t,null);if(typeof r!=="function")throw Error();return this.tween(t,Pn(r))}function fu(){var r=this._name,t=this._id,f=mt();for(var u=this._groups,o=u.length,i=0;i<o;++i)for(var n=u[i],c=n.length,p,h=0;h<c;++h)if(p=n[h]){var l=Y(p,t);lr(p,r,f,h,n,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new E(u,this._parents,r,f)}function uu(){var r,t,f=this,u=f._id,o=f.size();return new Promise(function(i,n){var c={value:n},p={value:function(){if(--o===0)i()}};if(f.each(function(){var h=z(this,u),l=h.on;if(l!==r)t=(r=l).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(p);h.on=t}),o===0)i()})}var Qn=0;function E(r,t,f,u){this._groups=r,this._parents=t,this._name=f,this._id=u}function fo(r){return hr().transition(r)}function mt(){return++Qn}var sr=hr.prototype;E.prototype=fo.prototype={constructor:E,select:vf,selectAll:yf,selectChild:sr.selectChild,selectChildren:sr.selectChildren,filter:qf,merge:gf,selection:bf,transition:fu,call:sr.call,nodes:sr.nodes,node:sr.node,size:sr.size,empty:sr.empty,each:sr.each,on:jf,attr:Yf,attrTween:Hf,style:kf,styleTween:df,text:ru,textTween:tu,remove:ef,tween:Xf,delay:xf,duration:Df,ease:zf,easeVarying:Ef,end:uu,[Symbol.iterator]:sr[Symbol.iterator]};function Ft(r){return((r*=2)<=1?r*r*r:(r-=2)*r*r+2)/2}var Jn={time:null,delay:0,duration:250,ease:Ft};function Un(r,t){var f;while(!(f=r.__transition)||!(f=f[t]))if(!(r=r.parentNode))throw Error(`transition ${t} not found`);return f}function ou(r){var t,f;if(r instanceof E)t=r._id,r=r._name;else t=mt(),(f=Jn).time=er(),r=r==null?null:r+"";for(var u=this._groups,o=u.length,i=0;i<o;++i)for(var n=u[i],c=n.length,p,h=0;h<c;++h)if(p=n[h])lr(p,r,t,h,n,f||Un(p,t));return new E(u,this._parents,r,t)}hr.prototype.interrupt=Gf;hr.prototype.transition=ou;function uo(r){return[+r[0],+r[1]]}function Vn(r){return[uo(r[0]),uo(r[1])]}var s_={name:"x",handles:["w","e"].map(iu),input:function(r,t){return r==null?null:[[+r[0],t[0][1]],[+r[1],t[1][1]]]},output:function(r){return r&&[r[0][0],r[1][0]]}},a_={name:"y",handles:["n","s"].map(iu),input:function(r,t){return r==null?null:[[t[0][0],+r[0]],[t[1][0],+r[1]]]},output:function(r){return r&&[r[0][1],r[1][1]]}},w_={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(iu),input:function(r){return r==null?null:Vn(r)},output:function(r){return r}};function iu(r){return{type:r}}function Zr(r,t){var f,u=1;if(r==null)r=0;if(t==null)t=0;function o(){var i,n=f.length,c,p=0,h=0;for(i=0;i<n;++i)c=f[i],p+=c.x,h+=c.y;for(p=(p/n-r)*u,h=(h/n-t)*u,i=0;i<n;++i)c=f[i],c.x-=p,c.y-=h}return o.initialize=function(i){f=i},o.x=function(i){return arguments.length?(r=+i,o):r},o.y=function(i){return arguments.length?(t=+i,o):t},o.strength=function(i){return arguments.length?(u=+i,o):u},o}function nu(r){let t=+this._x.call(null,r),f=+this._y.call(null,r);return oo(this.cover(t,f),t,f,r)}function oo(r,t,f,u){if(isNaN(t)||isNaN(f))return r;var o,i=r._root,n={data:u},c=r._x0,p=r._y0,h=r._x1,l=r._y1,_,s,a,M,O,S,w,N;if(!i)return r._root=n,r;while(i.length){if(O=t>=(_=(c+h)/2))c=_;else h=_;if(S=f>=(s=(p+l)/2))p=s;else l=s;if(o=i,!(i=i[w=S<<1|O]))return o[w]=n,r}if(a=+r._x.call(null,i.data),M=+r._y.call(null,i.data),t===a&&f===M)return n.next=i,o?o[w]=n:r._root=n,r;do{if(o=o?o[w]=[,,,,]:r._root=[,,,,],O=t>=(_=(c+h)/2))c=_;else h=_;if(S=f>=(s=(p+l)/2))p=s;else l=s}while((w=S<<1|O)===(N=(M>=s)<<1|a>=_));return o[N]=i,o[w]=n,r}function io(r){var t,f,u=r.length,o,i,n=Array(u),c=Array(u),p=1/0,h=1/0,l=-1/0,_=-1/0;for(f=0;f<u;++f){if(isNaN(o=+this._x.call(null,t=r[f]))||isNaN(i=+this._y.call(null,t)))continue;if(n[f]=o,c[f]=i,o<p)p=o;if(o>l)l=o;if(i<h)h=i;if(i>_)_=i}if(p>l||h>_)return this;this.cover(p,h).cover(l,_);for(f=0;f<u;++f)oo(this,n[f],c[f],r[f]);return this}function cu(r,t){if(isNaN(r=+r)||isNaN(t=+t))return this;var f=this._x0,u=this._y0,o=this._x1,i=this._y1;if(isNaN(f))o=(f=Math.floor(r))+1,i=(u=Math.floor(t))+1;else{var n=o-f||1,c=this._root,p,h;while(f>r||r>=o||u>t||t>=i)switch(h=(t<u)<<1|r<f,p=[,,,,],p[h]=c,c=p,n*=2,h){case 0:o=f+n,i=u+n;break;case 1:f=o-n,i=u+n;break;case 2:o=f+n,u=i-n;break;case 3:f=o-n,u=i-n;break}if(this._root&&this._root.length)this._root=c}return this._x0=f,this._y0=u,this._x1=o,this._y1=i,this}function hu(){var r=[];return this.visit(function(t){if(!t.length)do r.push(t.data);while(t=t.next)}),r}function pu(r){return arguments.length?this.cover(+r[0][0],+r[0][1]).cover(+r[1][0],+r[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function H(r,t,f,u,o){this.node=r,this.x0=t,this.y0=f,this.x1=u,this.y1=o}function lu(r,t,f){var u,o=this._x0,i=this._y0,n,c,p,h,l=this._x1,_=this._y1,s=[],a=this._root,M,O;if(a)s.push(new H(a,o,i,l,_));if(f==null)f=1/0;else o=r-f,i=t-f,l=r+f,_=t+f,f*=f;while(M=s.pop()){if(!(a=M.node)||(n=M.x0)>l||(c=M.y0)>_||(p=M.x1)<o||(h=M.y1)<i)continue;if(a.length){var S=(n+p)/2,w=(c+h)/2;if(s.push(new H(a[3],S,w,p,h),new H(a[2],n,w,S,h),new H(a[1],S,c,p,w),new H(a[0],n,c,S,w)),O=(t>=w)<<1|r>=S)M=s[s.length-1],s[s.length-1]=s[s.length-1-O],s[s.length-1-O]=M}else{var N=r-+this._x.call(null,a.data),$=t-+this._y.call(null,a.data),I=N*N+$*$;if(I<f){var F=Math.sqrt(f=I);o=r-F,i=t-F,l=r+F,_=t+F,u=a.data}}}return u}function _u(r){if(isNaN(l=+this._x.call(null,r))||isNaN(_=+this._y.call(null,r)))return this;var t,f=this._root,u,o,i,n=this._x0,c=this._y0,p=this._x1,h=this._y1,l,_,s,a,M,O,S,w;if(!f)return this;if(f.length)while(!0){if(M=l>=(s=(n+p)/2))n=s;else p=s;if(O=_>=(a=(c+h)/2))c=a;else h=a;if(t=f,!(f=f[S=O<<1|M]))return this;if(!f.length)break;if(t[S+1&3]||t[S+2&3]||t[S+3&3])u=t,w=S}while(f.data!==r)if(o=f,!(f=f.next))return this;if(i=f.next)delete f.next;if(o)return i?o.next=i:delete o.next,this;if(!t)return this._root=i,this;if(i?t[S]=i:delete t[S],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length)if(u)u[w]=f;else this._root=f;return this}function no(r){for(var t=0,f=r.length;t<f;++t)this.remove(r[t]);return this}function su(){return this._root}function au(){var r=0;return this.visit(function(t){if(!t.length)do++r;while(t=t.next)}),r}function wu(r){var t=[],f,u=this._root,o,i,n,c,p;if(u)t.push(new H(u,this._x0,this._y0,this._x1,this._y1));while(f=t.pop())if(!r(u=f.node,i=f.x0,n=f.y0,c=f.x1,p=f.y1)&&u.length){var h=(i+c)/2,l=(n+p)/2;if(o=u[3])t.push(new H(o,h,l,c,p));if(o=u[2])t.push(new H(o,i,l,h,p));if(o=u[1])t.push(new H(o,h,n,c,l));if(o=u[0])t.push(new H(o,i,n,h,l))}return this}function Au(r){var t=[],f=[],u;if(this._root)t.push(new H(this._root,this._x0,this._y0,this._x1,this._y1));while(u=t.pop()){var o=u.node;if(o.length){var i,n=u.x0,c=u.y0,p=u.x1,h=u.y1,l=(n+p)/2,_=(c+h)/2;if(i=o[0])t.push(new H(i,n,c,l,_));if(i=o[1])t.push(new H(i,l,c,p,_));if(i=o[2])t.push(new H(i,n,_,l,h));if(i=o[3])t.push(new H(i,l,_,p,h))}f.push(u)}while(u=f.pop())r(u.node,u.x0,u.y0,u.x1,u.y1);return this}function co(r){return r[0]}function Iu(r){return arguments.length?(this._x=r,this):this._x}function ho(r){return r[1]}function Su(r){return arguments.length?(this._y=r,this):this._y}function Mr(r,t,f){var u=new Ou(t==null?co:t,f==null?ho:f,NaN,NaN,NaN,NaN);return r==null?u:u.addAll(r)}function Ou(r,t,f,u,o,i){this._x=r,this._y=t,this._x0=f,this._y0=u,this._x1=o,this._y1=i,this._root=void 0}function po(r){var t={data:r.data},f=t;while(r=r.next)f=f.next={data:r.data};return t}var q=Mr.prototype=Ou.prototype;q.copy=function(){var r=new Ou(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,f,u;if(!t)return r;if(!t.length)return r._root=po(t),r;f=[{source:t,target:r._root=[,,,,]}];while(t=f.pop())for(var o=0;o<4;++o)if(u=t.source[o])if(u.length)f.push({source:u,target:t.target[o]=[,,,,]});else t.target[o]=po(u);return r};q.add=nu;q.addAll=io;q.cover=cu;q.data=hu;q.extent=pu;q.find=lu;q.remove=_u;q.removeAll=no;q.root=su;q.size=au;q.visit=wu;q.visitAfter=Au;q.x=Iu;q.y=Su;function X(r){return function(){return r}}function b(r){return(r()-0.5)*0.000001}function Zn(r){return r.x+r.vx}function Tn(r){return r.y+r.vy}function $t(r){var t,f,u,o=1,i=1;if(typeof r!=="function")r=X(r==null?1:+r);function n(){var h,l=t.length,_,s,a,M,O,S;for(var w=0;w<i;++w){_=Mr(t,Zn,Tn).visitAfter(c);for(h=0;h<l;++h)s=t[h],O=f[s.index],S=O*O,a=s.x+s.vx,M=s.y+s.vy,_.visit(N)}function N($,I,F,P,J){var{data:Z,r:W}=$,T=O+W;if(Z){if(Z.index>s.index){var L=a-Z.x-Z.vx,e=M-Z.y-Z.vy,g=L*L+e*e;if(g<T*T){if(L===0)L=b(u),g+=L*L;if(e===0)e=b(u),g+=e*e;g=(T-(g=Math.sqrt(g)))/g*o,s.vx+=(L*=g)*(T=(W*=W)/(S+W)),s.vy+=(e*=g)*T,Z.vx-=L*(T=1-T),Z.vy-=e*T}}return}return I>a+T||P<a-T||F>M+T||J<M-T}}function c(h){if(h.data)return h.r=f[h.data.index];for(var l=h.r=0;l<4;++l)if(h[l]&&h[l].r>h.r)h.r=h[l].r}function p(){if(!t)return;var h,l=t.length,_;f=Array(l);for(h=0;h<l;++h)_=t[h],f[_.index]=+r(_,h,t)}return n.initialize=function(h,l){t=h,u=l,p()},n.iterations=function(h){return arguments.length?(i=+h,n):i},n.strength=function(h){return arguments.length?(o=+h,n):o},n.radius=function(h){return arguments.length?(r=typeof h==="function"?h:X(+h),p(),n):r},n}function Kn(r){return r.index}function lo(r,t){var f=r.get(t);if(!f)throw Error("node not found: "+t);return f}function Pt(r){var t=Kn,f=_,u,o=X(30),i,n,c,p,h,l=1;if(r==null)r=[];function _(S){return 1/Math.min(c[S.source.index],c[S.target.index])}function s(S){for(var w=0,N=r.length;w<l;++w)for(var $=0,I,F,P,J,Z,W,T;$<N;++$)I=r[$],F=I.source,P=I.target,J=P.x+P.vx-F.x-F.vx||b(h),Z=P.y+P.vy-F.y-F.vy||b(h),W=Math.sqrt(J*J+Z*Z),W=(W-i[$])/W*S*u[$],J*=W,Z*=W,P.vx-=J*(T=p[$]),P.vy-=Z*T,F.vx+=J*(T=1-T),F.vy+=Z*T}function a(){if(!n)return;var S,w=n.length,N=r.length,$=new Map(n.map((F,P)=>[t(F,P,n),F])),I;for(S=0,c=Array(w);S<N;++S){if(I=r[S],I.index=S,typeof I.source!=="object")I.source=lo($,I.source);if(typeof I.target!=="object")I.target=lo($,I.target);c[I.source.index]=(c[I.source.index]||0)+1,c[I.target.index]=(c[I.target.index]||0)+1}for(S=0,p=Array(N);S<N;++S)I=r[S],p[S]=c[I.source.index]/(c[I.source.index]+c[I.target.index]);u=Array(N),M(),i=Array(N),O()}function M(){if(!n)return;for(var S=0,w=r.length;S<w;++S)u[S]=+f(r[S],S,r)}function O(){if(!n)return;for(var S=0,w=r.length;S<w;++S)i[S]=+o(r[S],S,r)}return s.initialize=function(S,w){n=S,h=w,a()},s.links=function(S){return arguments.length?(r=S,a(),s):r},s.id=function(S){return arguments.length?(t=S,s):t},s.iterations=function(S){return arguments.length?(l=+S,s):l},s.strength=function(S){return arguments.length?(f=typeof S==="function"?S:X(+S),M(),s):f},s.distance=function(S){return arguments.length?(o=typeof S==="function"?S:X(+S),O(),s):o},s}function Cu(){let r=1;return()=>(r=(1664525*r+1013904223)%4294967296)/4294967296}function _o(r){return r.x}function so(r){return r.y}var Wn=10,Rn=Math.PI*(3-Math.sqrt(5));function Qt(r){var t,f=1,u=0.001,o=1-Math.pow(u,0.0033333333333333335),i=0,n=0.6,c=new Map,p=Ur(_),h=cr("tick","end"),l=Cu();if(r==null)r=[];function _(){if(s(),h.call("tick",t),f<u)p.stop(),h.call("end",t)}function s(O){var S,w=r.length,N;if(O===void 0)O=1;for(var $=0;$<O;++$){f+=(i-f)*o,c.forEach(function(I){I(f)});for(S=0;S<w;++S){if(N=r[S],N.fx==null)N.x+=N.vx*=n;else N.x=N.fx,N.vx=0;if(N.fy==null)N.y+=N.vy*=n;else N.y=N.fy,N.vy=0}}return t}function a(){for(var O=0,S=r.length,w;O<S;++O){if(w=r[O],w.index=O,w.fx!=null)w.x=w.fx;if(w.fy!=null)w.y=w.fy;if(isNaN(w.x)||isNaN(w.y)){var N=Wn*Math.sqrt(0.5+O),$=O*Rn;w.x=N*Math.cos($),w.y=N*Math.sin($)}if(isNaN(w.vx)||isNaN(w.vy))w.vx=w.vy=0}}function M(O){if(O.initialize)O.initialize(r,l);return O}return a(),t={tick:s,restart:function(){return p.restart(_),t},stop:function(){return p.stop(),t},nodes:function(O){return arguments.length?(r=O,a(),c.forEach(M),t):r},alpha:function(O){return arguments.length?(f=+O,t):f},alphaMin:function(O){return arguments.length?(u=+O,t):u},alphaDecay:function(O){return arguments.length?(o=+O,t):+o},alphaTarget:function(O){return arguments.length?(i=+O,t):i},velocityDecay:function(O){return arguments.length?(n=1-O,t):1-n},randomSource:function(O){return arguments.length?(l=O,c.forEach(M),t):l},force:function(O,S){return arguments.length>1?(S==null?c.delete(O):c.set(O,M(S)),t):c.get(O)},find:function(O,S,w){var N=0,$=r.length,I,F,P,J,Z;if(w==null)w=1/0;else w*=w;for(N=0;N<$;++N)if(J=r[N],I=O-J.x,F=S-J.y,P=I*I+F*F,P<w)Z=J,w=P;return Z},on:function(O,S){return arguments.length>1?(h.on(O,S),t):h.on(O)}}}function Jt(){var r,t,f,u,o=X(-30),i,n=1,c=1/0,p=0.81;function h(a){var M,O=r.length,S=Mr(r,_o,so).visitAfter(_);for(u=a,M=0;M<O;++M)t=r[M],S.visit(s)}function l(){if(!r)return;var a,M=r.length,O;i=Array(M);for(a=0;a<M;++a)O=r[a],i[O.index]=+o(O,a,r)}function _(a){var M=0,O,S,w=0,N,$,I;if(a.length){for(N=$=I=0;I<4;++I)if((O=a[I])&&(S=Math.abs(O.value)))M+=O.value,w+=S,N+=S*O.x,$+=S*O.y;a.x=N/w,a.y=$/w}else{O=a,O.x=O.data.x,O.y=O.data.y;do M+=i[O.data.index];while(O=O.next)}a.value=M}function s(a,M,O,S){if(!a.value)return!0;var w=a.x-t.x,N=a.y-t.y,$=S-M,I=w*w+N*N;if($*$/p<I){if(I<c){if(w===0)w=b(f),I+=w*w;if(N===0)N=b(f),I+=N*N;if(I<n)I=Math.sqrt(n*I);t.vx+=w*a.value*u/I,t.vy+=N*a.value*u/I}return!0}else if(a.length||I>=c)return;if(a.data!==t||a.next){if(w===0)w=b(f),I+=w*w;if(N===0)N=b(f),I+=N*N;if(I<n)I=Math.sqrt(n*I)}do if(a.data!==t)$=i[a.data.index]*u/I,t.vx+=w*$,t.vy+=N*$;while(a=a.next)}return h.initialize=function(a,M){r=a,f=M,l()},h.strength=function(a){return arguments.length?(o=typeof a==="function"?a:X(+a),l(),h):o},h.distanceMin=function(a){return arguments.length?(n=a*a,h):Math.sqrt(n)},h.distanceMax=function(a){return arguments.length?(c=a*a,h):Math.sqrt(c)},h.theta=function(a){return arguments.length?(p=a*a,h):Math.sqrt(p)},h}function Ut(r){var t=X(0.1),f,u,o;if(typeof r!=="function")r=X(r==null?0:+r);function i(c){for(var p=0,h=f.length,l;p<h;++p)l=f[p],l.vx+=(o[p]-l.x)*u[p]*c}function n(){if(!f)return;var c,p=f.length;u=Array(p),o=Array(p);for(c=0;c<p;++c)u[c]=isNaN(o[c]=+r(f[c],c,f))?0:+t(f[c],c,f)}return i.initialize=function(c){f=c,n()},i.strength=function(c){return arguments.length?(t=typeof c==="function"?c:X(+c),n(),i):t},i.x=function(c){return arguments.length?(r=typeof c==="function"?c:X(+c),n(),i):r},i}function Vt(r){var t=X(0.1),f,u,o;if(typeof r!=="function")r=X(r==null?0:+r);function i(c){for(var p=0,h=f.length,l;p<h;++p)l=f[p],l.vy+=(o[p]-l.y)*u[p]*c}function n(){if(!f)return;var c,p=f.length;u=Array(p),o=Array(p);for(c=0;c<p;++c)u[c]=isNaN(o[c]=+r(f[c],c,f))?0:+t(f[c],c,f)}return i.initialize=function(c){f=c,n()},i.strength=function(c){return arguments.length?(t=typeof c==="function"?c:X(+c),n(),i):t},i.y=function(c){return arguments.length?(r=typeof c==="function"?c:X(+c),n(),i):r},i}var dr=(r)=>()=>r;function Mu(r,{sourceEvent:t,target:f,transform:u,dispatch:o}){Object.defineProperties(this,{type:{value:r,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:f,enumerable:!0,configurable:!0},transform:{value:u,enumerable:!0,configurable:!0},_:{value:o}})}function tr(r,t,f){this.k=r,this.x=t,this.y=f}tr.prototype={constructor:tr,scale:function(r){return r===1?this:new tr(this.k*r,this.x,this.y)},translate:function(r,t){return r===0&t===0?this:new tr(this.k,this.x+this.k*r,this.y+this.k*t)},apply:function(r){return[r[0]*this.k+this.x,r[1]*this.k+this.y]},applyX:function(r){return r*this.k+this.x},applyY:function(r){return r*this.k+this.y},invert:function(r){return[(r[0]-this.x)/this.k,(r[1]-this.y)/this.k]},invertX:function(r){return(r-this.x)/this.k},invertY:function(r){return(r-this.y)/this.k},rescaleX:function(r){return r.copy().domain(r.range().map(this.invertX,this).map(r.invert,r))},rescaleY:function(r){return r.copy().domain(r.range().map(this.invertY,this).map(r.invert,r))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var rt=new tr(1,0,0);Nu.prototype=tr.prototype;function Nu(r){while(!r.__zoom)if(!(r=r.parentNode))return rt;return r.__zoom}function Zt(r){r.stopImmediatePropagation()}function Nr(r){r.preventDefault(),r.stopImmediatePropagation()}function Ln(r){return(!r.ctrlKey||r.type==="wheel")&&!r.button}function Gn(){var r=this;if(r instanceof SVGElement){if(r=r.ownerSVGElement||r,r.hasAttribute("viewBox"))return r=r.viewBox.baseVal,[[r.x,r.y],[r.x+r.width,r.y+r.height]];return[[0,0],[r.width.baseVal.value,r.height.baseVal.value]]}return[[0,0],[r.clientWidth,r.clientHeight]]}function ao(){return this.__zoom||rt}function Xn(r){return-r.deltaY*(r.deltaMode===1?0.05:r.deltaMode?1:0.002)*(r.ctrlKey?10:1)}function Yn(){return navigator.maxTouchPoints||"ontouchstart"in this}function Hn(r,t,f){var u=r.invertX(t[0][0])-f[0][0],o=r.invertX(t[1][0])-f[1][0],i=r.invertY(t[0][1])-f[0][1],n=r.invertY(t[1][1])-f[1][1];return r.translate(o>u?(u+o)/2:Math.min(0,u)||Math.max(0,o),n>i?(i+n)/2:Math.min(0,i)||Math.max(0,n))}function Tt(){var r=Ln,t=Gn,f=Hn,u=Xn,o=Yn,i=[0,1/0],n=[[-1/0,-1/0],[1/0,1/0]],c=250,p=Rf,h=cr("start","zoom","end"),l,_,s,a=500,M=150,O=0,S=10;function w(A){A.property("__zoom",ao).on("wheel.zoom",Z,{passive:!1}).on("mousedown.zoom",W).on("dblclick.zoom",T).filter(o).on("touchstart.zoom",L).on("touchmove.zoom",e).on("touchend.zoom touchcancel.zoom",g).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(A,B,C,m){var Q=A.selection?A.selection():A;if(Q.property("__zoom",ao),A!==Q)F(A,B,C,m);else Q.interrupt().each(function(){P(this,arguments).event(m).start().zoom(null,typeof B==="function"?B.apply(this,arguments):B).end()})},w.scaleBy=function(A,B,C,m){w.scaleTo(A,function(){var Q=this.__zoom.k,U=typeof B==="function"?B.apply(this,arguments):B;return Q*U},C,m)},w.scaleTo=function(A,B,C,m){w.transform(A,function(){var Q=t.apply(this,arguments),U=this.__zoom,V=C==null?I(Q):typeof C==="function"?C.apply(this,arguments):C,K=U.invert(V),G=typeof B==="function"?B.apply(this,arguments):B;return f($(N(U,G),V,K),Q,n)},C,m)},w.translateBy=function(A,B,C,m){w.transform(A,function(){return f(this.__zoom.translate(typeof B==="function"?B.apply(this,arguments):B,typeof C==="function"?C.apply(this,arguments):C),t.apply(this,arguments),n)},null,m)},w.translateTo=function(A,B,C,m,Q){w.transform(A,function(){var U=t.apply(this,arguments),V=this.__zoom,K=m==null?I(U):typeof m==="function"?m.apply(this,arguments):m;return f(rt.translate(K[0],K[1]).scale(V.k).translate(typeof B==="function"?-B.apply(this,arguments):-B,typeof C==="function"?-C.apply(this,arguments):-C),U,n)},m,Q)};function N(A,B){return B=Math.max(i[0],Math.min(i[1],B)),B===A.k?A:new tr(B,A.x,A.y)}function $(A,B,C){var m=B[0]-C[0]*A.k,Q=B[1]-C[1]*A.k;return m===A.x&&Q===A.y?A:new tr(A.k,m,Q)}function I(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function F(A,B,C,m){A.on("start.zoom",function(){P(this,arguments).event(m).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(m).end()}).tween("zoom",function(){var Q=this,U=arguments,V=P(Q,U).event(m),K=t.apply(Q,U),G=C==null?I(K):typeof C==="function"?C.apply(Q,U):C,fr=Math.max(K[1][0]-K[0][0],K[1][1]-K[0][1]),D=Q.__zoom,k=typeof B==="function"?B.apply(Q,U):B,ir=p(D.invert(G).concat(fr/D.k),k.invert(G).concat(fr/k.k));return function(d){if(d===1)d=k;else{var nr=ir(d),Gt=fr/nr[2];d=new tr(Gt,G[0]-nr[0]*Gt,G[1]-nr[1]*Gt)}V.zoom(null,d)}})}function P(A,B,C){return!C&&A.__zooming||new J(A,B)}function J(A,B){this.that=A,this.args=B,this.active=0,this.sourceEvent=null,this.extent=t.apply(A,B),this.taps=0}J.prototype={event:function(A){if(A)this.sourceEvent=A;return this},start:function(){if(++this.active===1)this.that.__zooming=this,this.emit("start");return this},zoom:function(A,B){if(this.mouse&&A!=="mouse")this.mouse[1]=B.invert(this.mouse[0]);if(this.touch0&&A!=="touch")this.touch0[1]=B.invert(this.touch0[0]);if(this.touch1&&A!=="touch")this.touch1[1]=B.invert(this.touch1[0]);return this.that.__zoom=B,this.emit("zoom"),this},end:function(){if(--this.active===0)delete this.that.__zooming,this.emit("end");return this},emit:function(A){var B=x(this.that).datum();h.call(A,this.that,new Mu(A,{sourceEvent:this.sourceEvent,target:w,type:A,transform:this.that.__zoom,dispatch:h}),B)}};function Z(A,...B){if(!r.apply(this,arguments))return;var C=P(this,B).event(A),m=this.__zoom,Q=Math.max(i[0],Math.min(i[1],m.k*Math.pow(2,u.apply(this,arguments)))),U=v(A);if(C.wheel){if(C.mouse[0][0]!==U[0]||C.mouse[0][1]!==U[1])C.mouse[1]=m.invert(C.mouse[0]=U);clearTimeout(C.wheel)}else if(m.k===Q)return;else C.mouse=[U,m.invert(U)],_r(this),C.start();Nr(A),C.wheel=setTimeout(V,M),C.zoom("mouse",f($(N(m,Q),C.mouse[0],C.mouse[1]),C.extent,n));function V(){C.wheel=null,C.end()}}function W(A,...B){if(s||!r.apply(this,arguments))return;var C=A.currentTarget,m=P(this,B,!0).event(A),Q=x(A.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",fr,!0),U=v(A,C),V=A.clientX,K=A.clientY;$r(A.view),Zt(A),m.mouse=[U,this.__zoom.invert(U)],_r(this),m.start();function G(D){if(Nr(D),!m.moved){var k=D.clientX-V,ir=D.clientY-K;m.moved=k*k+ir*ir>O}m.event(D).zoom("mouse",f($(m.that.__zoom,m.mouse[0]=v(D,C),m.mouse[1]),m.extent,n))}function fr(D){Q.on("mousemove.zoom mouseup.zoom",null),Lr(D.view,m.moved),Nr(D),m.event(D).end()}}function T(A,...B){if(!r.apply(this,arguments))return;var C=this.__zoom,m=v(A.changedTouches?A.changedTouches[0]:A,this),Q=C.invert(m),U=C.k*(A.shiftKey?0.5:2),V=f($(N(C,U),m,Q),t.apply(this,B),n);if(Nr(A),c>0)x(this).transition().duration(c).call(F,V,m,A);else x(this).call(w.transform,V,m,A)}function L(A,...B){if(!r.apply(this,arguments))return;var C=A.touches,m=C.length,Q=P(this,B,A.changedTouches.length===m).event(A),U,V,K,G;Zt(A);for(V=0;V<m;++V)if(K=C[V],G=v(K,this),G=[G,this.__zoom.invert(G),K.identifier],!Q.touch0)Q.touch0=G,U=!0,Q.taps=1+!!l;else if(!Q.touch1&&Q.touch0[2]!==G[2])Q.touch1=G,Q.taps=0;if(l)l=clearTimeout(l);if(U){if(Q.taps<2)_=G[0],l=setTimeout(function(){l=null},a);_r(this),Q.start()}}function e(A,...B){if(!this.__zooming)return;var C=P(this,B).event(A),m=A.changedTouches,Q=m.length,U,V,K,G;Nr(A);for(U=0;U<Q;++U)if(V=m[U],K=v(V,this),C.touch0&&C.touch0[2]===V.identifier)C.touch0[0]=K;else if(C.touch1&&C.touch1[2]===V.identifier)C.touch1[0]=K;if(V=C.that.__zoom,C.touch1){var fr=C.touch0[0],D=C.touch0[1],k=C.touch1[0],ir=C.touch1[1],d=(d=k[0]-fr[0])*d+(d=k[1]-fr[1])*d,nr=(nr=ir[0]-D[0])*nr+(nr=ir[1]-D[1])*nr;V=N(V,Math.sqrt(d/nr)),K=[(fr[0]+k[0])/2,(fr[1]+k[1])/2],G=[(D[0]+ir[0])/2,(D[1]+ir[1])/2]}else if(C.touch0)K=C.touch0[0],G=C.touch0[1];else return;C.zoom("touch",f($(V,K,G),C.extent,n))}function g(A,...B){if(!this.__zooming)return;var C=P(this,B).event(A),m=A.changedTouches,Q=m.length,U,V;if(Zt(A),s)clearTimeout(s);s=setTimeout(function(){s=null},a);for(U=0;U<Q;++U)if(V=m[U],C.touch0&&C.touch0[2]===V.identifier)delete C.touch0;else if(C.touch1&&C.touch1[2]===V.identifier)delete C.touch1;if(C.touch1&&!C.touch0)C.touch0=C.touch1,delete C.touch1;if(C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2){if(V=v(V,this),Math.hypot(_[0]-V[0],_[1]-V[1])<S){var K=x(this).on("dblclick.zoom");if(K)K.apply(this,arguments)}}}return w.wheelDelta=function(A){return arguments.length?(u=typeof A==="function"?A:dr(+A),w):u},w.filter=function(A){return arguments.length?(r=typeof A==="function"?A:dr(!!A),w):r},w.touchable=function(A){return arguments.length?(o=typeof A==="function"?A:dr(!!A),w):o},w.extent=function(A){return arguments.length?(t=typeof A==="function"?A:dr([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),w):t},w.scaleExtent=function(A){return arguments.length?(i[0]=+A[0],i[1]=+A[1],w):[i[0],i[1]]},w.translateExtent=function(A){return arguments.length?(n[0][0]=+A[0][0],n[1][0]=+A[1][0],n[0][1]=+A[0][1],n[1][1]=+A[1][1],w):[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},w.constrain=function(A){return arguments.length?(f=A,w):f},w.duration=function(A){return arguments.length?(c=+A,w):c},w.interpolate=function(A){return arguments.length?(p=A,w):p},w.on=function(){var A=h.on.apply(h,arguments);return A===h?w:A},w.clickDistance=function(A){return arguments.length?(O=(A=+A)*A,w):Math.sqrt(O)},w.tapDistance=function(A){return arguments.length?(S=+A,w):S},w}async function Ao(r){let t=`https://registry.npmjs.org/${r}/latest`,f;try{if(f=await fetch(t),!f.ok)throw Error(`HTTP error! status: ${f.status}`)}catch(l){throw Error(`Failed to fetch package info for "${r}": ${l}`)}let u;try{u=await f.json()}catch(l){throw Error(`Invalid JSON response for package "${r}": ${l}`)}let{dependencies:o={},devDependencies:i={},peerDependencies:n={},peerDependenciesMeta:c={}}=u,p={},h={};for(let[l,_]of Object.entries(n)){let s=c[l];if(s&&s.optional===!0)p[l]=_;else h[l]=_}return{deps:o,dev:i,opt:p,peer:h}}var xn="wxn0brP/graph/",Dn=86400000;async function zn(r,t,...f){let u=xn+r;if(localStorage.getItem(u)){let{data:i,timestamp:n}=JSON.parse(localStorage.getItem(u));if(Date.now()-n<Dn)return i;else localStorage.removeItem(u)}let o=await t(...f);return localStorage.setItem(u,JSON.stringify({data:o,timestamp:Date.now()})),o}async function En(){let t=(await fetch("https://registry.npmjs.com/-/v1/search?text=@wxn0brp&size=100").then((u)=>u.json())).objects.map(({package:u})=>u.name);return await Promise.all(t.map(async(u)=>{let o=await Ao(u);return{name:u,info:o}}))}async function Io(){return zn("info",En)}var Br,Kt={peer:"#e74c3c",opt:"#e67e22",deps:"#3498db",dev:"#27ae60"};async function So(){try{let r=await Io(),t=new Map,f=new Map,u={peer:4,opt:3,deps:2,dev:1};r.forEach(({name:_,info:s})=>{if(!t.has(_))t.set(_,{id:_,label:_.split("/")[1]});let a=(M,O)=>{if(!M)return;Object.keys(M).forEach((S)=>{if(!S.startsWith("@wxn0brp/"))return;if(!t.has(S))t.set(S,{id:S,label:S.split("/")[1]});let w=`${_}${S}`;if(!f.has(w))f.set(w,{source:_,target:S,types:new Set,versions:{}});let N=f.get(w);N.types.add(O),N.versions[O]=M[S]})};a(s.peer,"peer"),a(s.opt,"opt"),a(s.deps,"deps"),a(s.dev,"dev")});let o=[];f.forEach((_)=>{let s=Array.from(_.types),a=s.reduce((M,O)=>u[M]>u[O]?M:O);o.push({source:_.source,target:_.target,type:a,version:_.versions[a],allTypes:s.sort((M,O)=>u[O]-u[M])})});let i=Array.from(t.values()),n=o;Br=Qt(i).force("link",Pt(n).id((_)=>_.id).distance(800).strength(1)).force("charge",Jt().strength(-22000)).force("center",Zr(Wt/2,Rt/2)).force("collision",$t().radius(220)).force("x",Ut(Wt/2).strength(0.05)).force("y",Vt(Rt/2).strength(0.05));let c=tt.append("g").selectAll("line").data(n).enter().append("line").attr("class","link").attr("stroke",(_)=>Kt[_.type]).attr("stroke-width",3),p=tt.append("g").selectAll("text").data(n).enter().append("text").attr("class","link-label").text((_)=>`${_.type}: ${_.version}`).attr("fill",(_)=>Kt[_.type]),h=tt.append("g").selectAll("g").data(i).enter().append("g").attr("class","node").call(nt().on("start",qn).on("drag",gn).on("end",jn));h.append("circle").attr("r",35).attr("fill","#2c3e50").attr("stroke","#ffffff"),h.append("text").text((_)=>_.label).attr("y",6);let l=x("body").append("div").attr("class","tooltip");h.on("mouseover",(_,s)=>{let a=n.filter((w)=>w.source.id===s.id),M=n.filter((w)=>w.target.id===s.id),O=a.map((w)=>`<div style="color:${Kt[w.type]}"> ${w.target.label} <em>(${w.type}: ${w.version})</em></div>`).join(""),S=M.map((w)=>`<div style="color:${Kt[w.type]}"> ${w.source.label} <em>(${w.type}: ${w.version})</em></div>`).join("");l.html(`
                <strong>${s.id}</strong>
                <div style="margin-top:8px; font-size:12px;">
                    ${a.length?`<div><strong>Dependencies (${a.length}):</strong></div>${O}`:"<em>No dependencies</em>"}
                    ${M.length?`<div style="margin-top:8px;"><strong>Used by (${M.length}):</strong></div>${S}`:""}
                </div>
            `).style("opacity",1)}).on("mousemove",(_)=>{l.style("left",_.pageX+15+"px").style("top",_.pageY-10+"px")}).on("mouseout",()=>l.style("opacity",0)),Br.on("tick",()=>{c.attr("x1",(_)=>_.source.x).attr("y1",(_)=>_.source.y).attr("x2",(_)=>_.target.x).attr("y2",(_)=>_.target.y),p.attr("x",(_)=>(_.source.x+_.target.x)/2).attr("y",(_)=>(_.source.y+_.target.y)/2),h.attr("transform",(_)=>`translate(${_.x},${_.y})`)})}catch(r){console.error("Error:",r),alert("Error loading graph")}}function qn(r,t){if(!r.active)Br.alphaTarget(0.3).restart();t.fx=t.x,t.fy=t.y}function gn(r,t){t.fx=r.x,t.fy=r.y}function jn(r,t){if(!r.active)Br.alphaTarget(0);t.fx=null,t.fy=null}var Wt=window.innerWidth,Rt=window.innerHeight-80,Lt=x("#graph").append("svg").attr("width",Wt).attr("height",Rt),en=Lt.append("defs");en.append("marker").attr("id","arrow").attr("viewBox","0 -5 10 10").attr("refX",28).attr("refY",0).attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#999");var tt=Lt.append("g"),vn=Tt().scaleExtent([0.2,5]).on("zoom",(r)=>tt.attr("transform",r.transform));Lt.call(vn);So();window.addEventListener("resize",()=>{let r=window.innerWidth,t=window.innerHeight-80;if(Lt.attr("width",r).attr("height",t),Br)Br.force("center",Zr(r/2,t/2)).alpha(0.3).restart()});export{Wt as width,Lt as svg,Rt as height,tt as g};

//# debugId=5FDCD8D2ABD8E2BE64756E2164756E21
//# sourceMappingURL=index.js.map
